(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{36:function(e,t,a){e.exports=a(72)},41:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(29),c=a.n(r),m=(a(41),a(14)),i=a(30),o=a(31),l=a(34),u=a(32),g=a(35),f=a(33),p=a.n(f)()("https://hil-app-chat.herokuapp.com/"),h=(a(70),function(e){var t=e.msg,a=e.currentUser,n=t.user===a?"alert alert-primary":"alert alert-dark";return s.a.createElement("div",{className:"message-container"},s.a.createElement("span",{className:n},t.user,": ",t.text))}),v=function(e){var t=e.onChange,a=e.onSend,n=e.value;return s.a.createElement("form",{className:"input-group mb-3",onSubmit:a},s.a.createElement("input",{className:"form-control",value:n,onChange:t}),s.a.createElement("button",{className:"btn btn-primary",type:"submit"},"Send"))},d=(a(71),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).socket=p,a.state={currentUser:"",isLogin:!1,users:{},message:"",messages:[]},a.changeMessage=function(e){a.setState({message:e.target.value})},a.changeName=function(e){a.setState({currentUser:e.target.value})},a.inputName=function(){var e=a.state.currentUser;""!==e&&(a.setState({isLogin:!0}),a.socket.emit("change:name",e))},a.sendMessage=function(e){e.preventDefault();var t=a.state,n=t.currentUser,s=t.message;s.trim().length&&(a.socket.emit("message",{user:n,message:s.trim()}),a.setState({message:""}))},a}return Object(g.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.socket.on("message",function(t){e.state.isLogin&&e.setState(function(e){var a=e.messages,n=Object(m.a)(a);return n.length>10&&n.shift(),{messages:[].concat(Object(m.a)(n),[{user:t.user,text:t.message}])}})}),this.socket.on("users",function(t){e.setState({users:t})})}},{key:"render",value:function(){var e=this.state,t=e.isLogin,a=e.currentUser,n=e.message,r=e.messages,c=e.users;return t?s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row align -items-start"},s.a.createElement("div",{className:"message-list col-md-9"},s.a.createElement(v,{value:n,onChange:this.changeMessage,onSend:this.sendMessage}),s.a.createElement("div",{className:"messages"},r.map(function(e,t){return s.a.createElement(h,{msg:e,currentUser:a,key:t})}))),s.a.createElement("ul",{className:"list-group col-md-3"},Object.values(c).map(function(e,t){return s.a.createElement("li",{className:"list-group-item",key:t},e)})))):s.a.createElement("main",{className:"form-signin"},s.a.createElement("h4",{className:"form-floating mb-3"},"Please, introduce yourself"),s.a.createElement("div",{className:"form-floating mb-3"},s.a.createElement("input",{className:"form-control",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 \u043d\u0438\u043a\u043d\u0435\u0439\u043c",id:"floatingInput",value:a,onChange:this.changeName}),s.a.createElement("label",{htmlFor:"floatingInput"},"Nickname")),s.a.createElement("button",{className:"w-100 btn btn-lg btn-primary",onClick:this.inputName},"Login"))}}]),t}(n.Component));c.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(d,null)),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.bb86f6c0.chunk.js.map